<nav class="sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-slate-200 transition-shadow" [class.shadow-sm]="scrolled" style="font-family: 'Cairo', sans-serif !important; --font-family: 'Cairo', sans-serif !important;">
	<div class="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
		<!-- Logo -->
		<a routerLink="/" (click)="scrollToTop()" class="flex items-center gap-2 font-extrabold text-lg text-slate-900" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
			<img src="/assets/logo2.png" class="h-8 w-8 object-contain" alt="ابلكيشن معادلة كلية هندسة" loading="lazy" />
			<span class="hidden sm:inline" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">ابلكيشن معادلة هندسة</span>
			<span class="sm:hidden" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">معادلة هندسة</span>
		</a>

		<!-- Mobile/Tablet Menu Button -->
		<button 
			*ngIf="isMobile"
			class="p-2 rounded-md text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors"
			(click)="toggleMobileMenu()"
			[attr.aria-expanded]="isMobileMenuOpen"
			aria-label="فتح القائمة">
			<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path *ngIf="!isMobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
				<path *ngIf="isMobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
			</svg>
		</button>

		<!-- Desktop Menu -->
		<ul *ngIf="!isMobile" class="flex gap-2 xl:gap-3 text-sm items-center" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
			<li class="relative group flex items-center">
				<button 
					class="relative px-2 py-1 text-gray-700 flex items-center gap-1"
					(click)="toggleNewsDropdown()"
					[class.text-orange-600]="isNewsDropdownOpen"
					style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<span style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">أخبار المعادلة</span>
					<svg class="w-3 h-3 transition-transform duration-200" [class.rotate-180]="isNewsDropdownOpen" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
					</svg>
				</button>
				
				<!-- Dropdown Menu -->
				<div class="absolute top-full left-0 mt-1 w-72 xl:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200" 
					 [class.opacity-100]="isNewsDropdownOpen"
					 [class.visible]="isNewsDropdownOpen"
					 style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<div class="py-2">
						<!-- أخبار المعادلة -->
						<a routerLink="/news/equation" 
						   (click)="closeNewsDropdown()"
						   class="block px-4 py-3 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-600 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
							<div class="flex items-center gap-3">
								<div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center">
									<svg class="w-4 h-4 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
									</svg>
								</div>
								<div>
									<div class="font-semibold">أخبار المعادلة</div>
									<div class="text-xs text-gray-500">آخر أخبار المعادلة والتحديثات</div>
								</div>
							</div>
						</a>
						
						<!-- أخبار الأبلكيشن -->
						<a routerLink="/news/app" 
						   (click)="closeNewsDropdown()"
						   class="block px-4 py-3 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-600 transition-colors border-t border-gray-100" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
							<div class="flex items-center gap-3">
								<div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
									<svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
									</svg>
								</div>
								<div>
									<div class="font-semibold">أخبار الابلكيشن</div>
									<div class="text-xs text-gray-500">تحديثات الابلكبشن والمميزات الجديدة</div>
								</div>
							</div>
						</a>
					</div>
				</div>
			</li>
			<li class="relative group flex items-center">
				<button 
					class="relative px-2 py-1 text-gray-700 flex items-center gap-1"
					(click)="toggleRequirementsDropdown()"
					[class.text-orange-600]="isRequirementsDropdownOpen"
					style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<span style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">شروط المعادلة</span>
					<svg class="w-3 h-3 transition-transform duration-200" [class.rotate-180]="isRequirementsDropdownOpen" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
					</svg>
				</button>
				
				<!-- Dropdown Menu -->
				<div class="absolute top-full left-0 mt-1 w-72 xl:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200" 
					 [class.opacity-100]="isRequirementsDropdownOpen"
					 [class.visible]="isRequirementsDropdownOpen"
					 style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<div class="py-2">
						<!-- شروط المعادلة -->
						<a routerLink="/requirements" 
						   (click)="closeRequirementsDropdown()"
						   class="block px-4 py-3 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-600 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
							<div class="flex items-center gap-3">
								<div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center">
									<svg class="w-4 h-4 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
									</svg>
								</div>
								<div>
									<div class="font-semibold">شروط المعادلة</div>
									<div class="text-xs text-gray-500">المتطلبات والشروط اللازمة للتقديم للمعادلة</div>
								</div>
							</div>
						</a>
						
						<!-- المدارس -->
						<a routerLink="/schools" 
						   (click)="closeRequirementsDropdown()"
						   class="block px-4 py-3 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-600 transition-colors border-t border-gray-100" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
							<div class="flex items-center gap-3">
								<div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
									<svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
									</svg>
								</div>
								<div>
									<div class="font-semibold">المدارس والمعاهد</div>
									<div class="text-xs text-gray-500">المؤسسات المؤهلة لعمل معادلة كلية الهندسة</div>
								</div>
							</div>
						</a>
					</div>
				</div>
			</li>
			<li>
			<a routerLink="/faq" 
			   (click)="scrollToTop()"
			   [class]="isActiveRoute('/faq') ? 'nav-link active' : 'nav-link'"
			   class="relative px-2 py-1 text-gray-700" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<span style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">الأسئلة الشائعة</span>
				</a>
			</li>
			<li>
			<a routerLink="/engineers" 
			   (click)="scrollToTop()"
			   [class]="isActiveRoute('/engineers') ? 'nav-link active' : 'nav-link'"
			   class="relative px-2 py-1 text-gray-700" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<span style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">المهندسين</span>
				</a>
			</li>
			<li>
			<a href="https://app-mo3adlet-handsa.com/index.php" 
			   target="_blank"
			   class="relative px-2 py-1 text-gray-700 hover:text-orange-600 transition-colors" 
			   style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<span style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">المنصة</span>
				</a>
			</li>
			<li>
			<a routerLink="/social" 
			   (click)="scrollToTop()"
			   [class]="isActiveRoute('/social') ? 'nav-link active' : 'nav-link'"
			   class="relative px-2 py-1 text-gray-700" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<span style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">تابعنا</span>
				</a>
			</li>
			<li>
			<a routerLink="/subscription-details" 
			   (click)="scrollToTop()"
			   class="bg-green-600 text-white px-2 xl:px-3 py-1 rounded-md font-semibold hover:bg-green-700 transition-colors text-xs xl:text-sm" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<span class="hidden xl:inline" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">تفاصيل الإشتراك</span>
					<span class="xl:hidden" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">الإشتراك</span>
				</a>
			</li>
			<li>
			<a routerLink="/contact" 
			   (click)="scrollToTop()"
			   class="bg-orange-600 text-white px-2 xl:px-3 py-1 rounded-md font-semibold hover:bg-orange-700 transition-colors text-xs xl:text-sm" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<span style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">ابدأ الآن</span>
				</a>
			</li>
		</ul>
	</div>

	<!-- Mobile/Tablet Menu -->
	<div *ngIf="isMobile && isMobileMenuOpen" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
		<div class="px-4 pt-3 pb-4 space-y-1 bg-white border-t border-slate-200 shadow-lg">
			<div class="px-4 py-2">
				<button 
					(click)="toggleMobileNewsDropdown()"
					class="flex items-center justify-between w-full text-base font-medium text-gray-700 hover:text-orange-600 transition-colors px-4 py-3 rounded-lg hover:bg-gray-50" 
					style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					أخبار المعادلة
					<svg class="w-4 h-4 transition-transform duration-200" [class.rotate-180]="isMobileNewsDropdownOpen" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
					</svg>
				</button>
				<div class="mt-2 space-y-1" [class.hidden]="!isMobileNewsDropdownOpen">
					<a routerLink="/news/equation" 
					   (click)="closeMobileMenu()"
					   [class]="isActiveRoute('/news/equation') ? 'mobile-nav-link active' : 'mobile-nav-link'"
					   class="block px-8 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
						أخبار المعادلة
					</a>
					<a routerLink="/news/app" 
					   (click)="closeMobileMenu()"
					   [class]="isActiveRoute('/news/app') ? 'mobile-nav-link active' : 'mobile-nav-link'"
					   class="block px-8 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
						أخبار الابلكيشن
					</a>
				</div>
			</div>
			<a routerLink="/requirements" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/requirements') ? 'mobile-nav-link active' : 'mobile-nav-link'"
			   class="block px-4 py-3 rounded-lg text-base font-medium hover:bg-gray-50 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				شروط المعادلة
			</a>
			<a routerLink="/faq" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/faq') ? 'mobile-nav-link active' : 'mobile-nav-link'"
			   class="block px-4 py-3 rounded-lg text-base font-medium hover:bg-gray-50 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				الأسئلة الشائعة
			</a>
			<a routerLink="/engineers" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/engineers') ? 'mobile-nav-link active' : 'mobile-nav-link'"
			   class="block px-4 py-3 rounded-lg text-base font-medium hover:bg-gray-50 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				المهندسين
			</a>
			<a href="https://app-mo3adlet-handsa.com/index.php" 
			   target="_blank"
			   (click)="closeMobileMenu()"
			   class="mobile-nav-link block px-4 py-3 rounded-lg text-base font-medium hover:bg-gray-50 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				المنصة التعليمية
			</a>
			<a routerLink="/social" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/social') ? 'mobile-nav-link active' : 'mobile-nav-link'"
			   class="block px-4 py-3 rounded-lg text-base font-medium hover:bg-gray-50 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				تابعنا
			</a>
			<a routerLink="/subscription-details" 
			   (click)="closeMobileMenu()"
			   class="mobile-registration-btn block px-4 py-3 rounded-lg text-base font-medium text-center mx-4 mt-2" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				تفاصيل الإشتراك
			</a>
			<a routerLink="/contact" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/contact') ? 'mobile-contact-btn active' : 'mobile-contact-btn'"
			   class="block px-4 py-3 rounded-lg text-base font-medium text-center mx-4 mt-2" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				ابدأ الآن
			</a>
		</div>
	</div>
</nav>


