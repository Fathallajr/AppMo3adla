<nav class="sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-slate-200 transition-shadow font-cairo" [class.shadow-sm]="scrolled" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
	<div class="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between">
		<!-- Logo -->
		<a routerLink="/" (click)="scrollToTop()" class="flex items-center gap-2 font-extrabold text-lg text-slate-900 font-cairo" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
			<img src="/assets/logo2.png" class="h-8 w-8 object-contain" alt="ابلكيشن معادلة كلية هندسة" loading="lazy" />
			<span class="hidden sm:inline">ابلكيشن معادلة هندسة</span>
			<span class="sm:hidden">معادلة هندسة</span>
		</a>

		<!-- Mobile Menu Button -->
		<button 
			class="lg:hidden p-1 md:p-2 rounded-md text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors"
			(click)="toggleMobileMenu()"
			[attr.aria-expanded]="isMobileMenuOpen"
			aria-label="فتح القائمة">
			<svg class="w-5 h-5 md:w-6 md:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path *ngIf="!isMobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
				<path *ngIf="isMobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
			</svg>
		</button>

		<!-- Desktop Menu -->
		<ul class="hidden md:flex gap-2 lg:gap-3 text-sm font-cairo items-center">
			<li>
			<a routerLink="/faq" 
			   (click)="scrollToTop()"
			   [class]="isActiveRoute('/faq') ? 'nav-link active' : 'nav-link'"
			   class="relative px-2 py-1 text-gray-700" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					الأسئلة الشائعة
				</a>
			</li>
			<li>
			<a routerLink="/blog" 
			   (click)="scrollToTop()"
			   [class]="isActiveRoute('/blog') ? 'nav-link active' : 'nav-link'"
			   class="relative px-2 py-1 text-gray-700" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					أخبار المعادلة
				</a>
			</li>
			<li>
			<a routerLink="/engineers" 
			   (click)="scrollToTop()"
			   [class]="isActiveRoute('/engineers') ? 'nav-link active' : 'nav-link'"
			   class="relative px-2 py-1 text-gray-700" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					المدرسين
				</a>
			</li>
			<li class="relative group flex items-center">
				<button 
					class="relative px-2 py-1 text-gray-700 flex items-center gap-1"
					(click)="toggleRequirementsDropdown()"
					[class.text-orange-600]="isRequirementsDropdownOpen"
					style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					شروط المعادلة
					<svg class="w-3 h-3 transition-transform duration-200" [class.rotate-180]="isRequirementsDropdownOpen" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
					</svg>
				</button>
				
				<!-- Dropdown Menu -->
				<div class="absolute top-full left-0 mt-1 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200" 
					 [class.opacity-100]="isRequirementsDropdownOpen"
					 [class.visible]="isRequirementsDropdownOpen"
					 style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					<div class="py-2">
						<!-- شروط المعادلة -->
						<a routerLink="/requirements" 
						   (click)="closeRequirementsDropdown()"
						   class="block px-4 py-3 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-600 transition-colors" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
							<div class="flex items-center gap-3">
								<div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center">
									<svg class="w-4 h-4 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
									</svg>
								</div>
								<div>
									<div class="font-semibold">شروط المعادلة</div>
									<div class="text-xs text-gray-500">المتطلبات والشروط اللازمة</div>
								</div>
							</div>
						</a>
						
						<!-- المدارس -->
						<a routerLink="/schools" 
						   (click)="closeRequirementsDropdown()"
						   class="block px-4 py-3 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-600 transition-colors border-t border-gray-100" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
							<div class="flex items-center gap-3">
								<div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
									<svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
									</svg>
								</div>
								<div>
									<div class="font-semibold">المدارس والمعاهد</div>
									<div class="text-xs text-gray-500">المؤسسات المؤهلة للمعادلة</div>
								</div>
							</div>
						</a>
					</div>
				</div>
			</li>
			<li>
			<a routerLink="/social" 
			   (click)="scrollToTop()"
			   [class]="isActiveRoute('/social') ? 'nav-link active' : 'nav-link'"
			   class="relative px-2 py-1 text-gray-700" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					تابعنا
				</a>
			</li>
			<li>
			<a href="https://docs.google.com/forms/d/e/1FAIpQLSdGEr-leTE9PlHqS0h5Zz6dliGSIOFu57saHkxHPohNOWL8Xg/viewform" 
			   target="_blank"
			   class="bg-green-600 text-white px-3 py-1 rounded-md font-semibold" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					تسجيل الشهر الجديد
				</a>
			</li>
			<li>
			<a routerLink="/contact" 
			   (click)="scrollToTop()"
			   class="bg-orange-600 text-white px-3 py-1 rounded-md font-semibold" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
					ابدأ الآن
				</a>
			</li>
		</ul>
	</div>

	<!-- Mobile Menu -->
	<div class="lg:hidden" [class.hidden]="!isMobileMenuOpen" [class.block]="isMobileMenuOpen" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
		<div class="px-2 pt-2 pb-3 space-y-1 bg-white border-t border-slate-200">
			<a routerLink="/faq" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/faq') ? 'mobile-nav-link active' : 'mobile-nav-link'"
			   class="block px-3 py-2 rounded-md text-base font-medium" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				الأسئلة الشائعة
			</a>
			<a routerLink="/blog" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/blog') ? 'mobile-nav-link active' : 'mobile-nav-link'"
			   class="block px-3 py-2 rounded-md text-base font-medium" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				أخبار المعادلة
			</a>
			<a routerLink="/engineers" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/engineers') ? 'mobile-nav-link active' : 'mobile-nav-link'"
			   class="block px-3 py-2 rounded-md text-base font-medium" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				المدرسين
			</a>
			<a routerLink="/requirements" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/requirements') ? 'mobile-nav-link active' : 'mobile-nav-link'"
			   class="block px-3 py-2 rounded-md text-base font-medium" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				شروط المعادلة
			</a>
			<a routerLink="/social" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/social') ? 'mobile-nav-link active' : 'mobile-nav-link'"
			   class="block px-3 py-2 rounded-md text-base font-medium" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				تابعنا
			</a>
			<a href="https://forms.gle/YOUR_GOOGLE_FORM_LINK_HERE" 
			   target="_blank"
			   (click)="closeMobileMenu()"
			   class="mobile-registration-btn block px-3 py-2 rounded-md text-base font-medium text-center" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				تسجيل الشهر الجديد
			</a>
			<a routerLink="/contact" 
			   (click)="closeMobileMenu()"
			   [class]="isActiveRoute('/contact') ? 'mobile-contact-btn active' : 'mobile-contact-btn'"
			   class="block px-3 py-2 rounded-md text-base font-medium text-center" style="font-family: 'Cairo', ui-sans-serif, system-ui, sans-serif !important;">
				ابدأ الآن
			</a>
		</div>
	</div>
</nav>


