<section class="mx-auto max-w-6xl px-4 py-16">
	<!-- Loading State -->
	<div *ngIf="isLoading" class="text-center py-16">
		<div class="loading-spinner inline-block rounded-full h-12 w-12 border-b-2 border-orange-500 mb-4"></div>
		<p class="text-slate-600">جاري تحميل الأسئلة الشائعة...</p>
	</div>

	<!-- Content -->
	<div *ngIf="!isLoading">
		<!-- Header -->
		<div class="text-center mb-10" @fadeInUp>
			<h2 class="text-3xl font-extrabold text-primary mb-3">الأسئلة الشائعة</h2>
			<p class="text-slate-600">إجابات سريعة على أكثر الأسئلة تكرارًا حول المعادلة والمنصة</p>
		</div>

		<!-- Search -->
		<div class="max-w-2xl mx-auto mb-10" @fadeInUp>
			<label class="relative block">
				<input [(ngModel)]="query" placeholder="ابحث عن سؤالك..." class="faq-input w-full rounded-xl border border-slate-300 px-4 py-3 pr-10 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500" />
				<svg class="w-5 h-5 text-slate-400 absolute right-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z"/></svg>
			</label>
		</div>

		<!-- Grid of accordions -->
		<div class="grid grid-cols-1 md:grid-cols-2 gap-4" @staggerList>
			<div *ngFor="let q of filteredFaqs() ; let i = index" class="faq-card rounded-xl border border-slate-200 bg-white shadow-sm hover:shadow-md hover:border-orange-300">
				<button class="faq-button w-full text-right flex items-center justify-between px-4 py-3 hover:bg-slate-50" (click)="toggle(i)">
					<span class="font-semibold text-slate-900">{{ q.q }}</span>
					<span class="text-slate-500 text-xl font-bold transition-transform duration-200" [class.rotate-180]="openIndex === i">{{ openIndex === i ? '−' : '+' }}</span>
				</button>
				<div [@expandCollapse] *ngIf="openIndex === i" class="accordion-content text-orange-600 px-4 pb-4 bg-orange-50 border-t border-orange-100">
					{{ q.a }}
				</div>
			</div>
		</div>

		<!-- CTA WhatsApp -->
		<div class="mt-12 p-6 bg-green-50 rounded-2xl border border-green-200 text-center max-w-3xl mx-auto" @fadeInUp>
		<svg class="w-12 h-12 mx-auto text-green-600 mb-3" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884"/></svg>
		<h3 class="text-lg font-semibold text-gray-800 mb-2">لم تجد إجابة لسؤالك؟</h3>
		<p class="text-gray-600 mb-4">تواصل معنا عبر واتساب للحصول على المساعدة</p>
		<a href="https://api.whatsapp.com/send/?phone=201554843745&text&type=phone_number&app_absent=0" target="_blank" class="inline-flex items-center px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors duration-200">تواصل عبر واتساب</a>
		</div>
	</div>
</section>


